apply plugin: 'com.android.library'
apply from: '../jacoco.gradle'

android {
  compileSdkVersion 23
  buildToolsVersion "23.0.3"

  defaultConfig {
    minSdkVersion 9
    targetSdkVersion 23
    versionCode 6
    versionName "0.5.0"
  }
  buildTypes {
    buildTypes {
      release {
        testCoverageEnabled true
      }
      debug {
        testCoverageEnabled true
      }
    }
  }
}

dependencies {
  testCompile libraries.junit
  testCompile libraries.robolectric
  testCompile libraries.assertJ
  testCompile libraries.equalsVerifier
  testCompile libraries.mockitoCore

  androidTestCompile libraries.supportTestRunner
  androidTestCompile libraries.supportTestRules
  androidTestCompile libraries.espressoCore
  androidTestCompile(libraries.espressoContrib) {
    // Causes IncompatibleClassChangeError.
    exclude module: 'support-annotations'
    exclude module: 'recyclerview-v7'
    exclude module: 'support-v4'
  }
}

configurations.all {
  resolutionStrategy {
    // Force our version of support-annotations, we have a conflict between app and androidTest dependency resolution.
    force libraries.supportAnnotations
  }
}

//ext {
//    bintrayRepo = 'maven'
//    bintrayName = 'patternedtextwatcher'
//
//    publishedGroupId = 'com.szagurskii'
//    libraryName = 'PatternedTextWatcher'
//    artifact = 'patternedtextwatcher'
//
//    libraryDescription = 'Advanced formatter for EditTexts, TextViews, etc.'
//
//    siteUrl = 'https://github.com/zsavely/PatternedTextWatcher'
//    gitUrl = 'https://github.com/zsavely/PatternedTextWatcher.git'
//
//    libraryVersion = '0.5.0'
//
//    developerId = 'zsavely'
//    developerName = 'Savelii Zagurskii'
//    developerEmail = 'saveliyzagurskiy@gmail.com'
//
//    licenseName = 'The MIT License (MIT)'
//    licenseUrl = 'https://opensource.org/licenses/MIT'
//    allLicenses = ["MIT"]
//}
//
//// Place it at the end of the file
//apply from: 'https://raw.githubusercontent.com/nuuneoi/JCenter/master/installv1.gradle'
//apply from: 'https://raw.githubusercontent.com/nuuneoi/JCenter/master/bintrayv1.gradle'
